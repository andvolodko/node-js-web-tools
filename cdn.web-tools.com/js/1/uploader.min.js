/*
 Bootstrap-select v1.12.4 (http://silviomoreto.github.io/bootstrap-select)

 Copyright 2013-2017 bootstrap-select
 Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 jQuery UI - v1.11.4+CommonJS - 2015-08-28
 http://jqueryui.com
 Includes: widget.js
 Copyright 2015 jQuery Foundation and other contributors; Licensed MIT  jQuery UI Widget 1.11.4
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/jQuery.widget/
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,h,a){c!=Array.prototype&&c!=Object.prototype&&(c[h]=a.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,h,a,b){if(h){a=$jscomp.global;c=c.split(".");for(b=0;b<c.length-1;b++){var d=c[b];d in a||(a[d]={});a=a[d]}c=c[c.length-1];b=a[c];h=h(b);h!=b&&null!=h&&$jscomp.defineProperty(a,c,{configurable:!0,writable:!0,value:h})}};$jscomp.polyfill("Object.is",function(c){return c?c:function(c,a){return c===a?0!==c||1/c===1/a:c!==c&&a!==a}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(c){return c?c:function(c,a){var b=this;b instanceof String&&(b=String(b));var d=b.length;for(a=a||0;a<d;a++)if(b[a]==c||Object.is(b[a],c))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(c,h,a){if(null==c)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(h instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return c+""};$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(c,a){return-1!==$jscomp.checkStringArgs(this,c,"includes").indexOf(c,a||0)}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,a){var b=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var d=b.length,f=c.length;a=Math.max(0,Math.min(a|0,b.length));for(var e=0;e<f&&a<d;)if(b[a++]!=c[e++])return!1;return e>=f}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var c=0;return function(h){return $jscomp.SYMBOL_PREFIX+(h||"")+c++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(c){var h=0;return $jscomp.iteratorPrototype(function(){return h<c.length?{done:!1,value:c[h++]}:{done:!0}})};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};
$jscomp.iteratorFromArray=function(c,h){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var a=0,b={next:function(){if(a<c.length){var d=a++;return{value:h(d,c[d]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");
$jscomp.findInternal=function(c,h,a){c instanceof String&&(c=String(c));for(var b=c.length,d=0;d<b;d++){var f=c[d];if(h.call(a,f,d,c))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,a){return $jscomp.findInternal(this,c,a).v}},"es6","es3");
!function(c,h){"function"==typeof define&&define.amd?define(["jquery"],function(a){return h(a)}):"object"==typeof module&&module.exports?module.exports=h(require("jquery")):h(c.jQuery)}(this,function(c){!function(c){function a(a){return c.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,
ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){a=a?a.replace(this.re,this.ch):""}),a}function b(a){var b=arguments,d=a;[].shift.apply(b);var l,f=this.each(function(){var a=c(this);if(a.is("select")){var f=a.data("selectpicker"),e="object"==typeof d&&d;if(f){if(e)for(var n in e)e.hasOwnProperty(n)&&(f.options[n]=e[n])}else f=c.extend({},m.DEFAULTS,c.fn.selectpicker.defaults||{},a.data(),e),f.template=c.extend({},m.DEFAULTS.template,c.fn.selectpicker.defaults?
c.fn.selectpicker.defaults.template:{},a.data().template,e.template),a.data("selectpicker",f=new m(this,f));"string"==typeof d&&(l=f[d]instanceof Function?f[d].apply(f,b):f.options[d])}});return"undefined"!=typeof l?l:f}String.prototype.includes||!function(){var a={}.toString,c=function(){try{var a={},c=Object.defineProperty,b=c(a,a,a)&&c}catch(w){}return b}(),b="".indexOf,d=function(c){if(null==this)throw new TypeError;var d=String(this);if(c&&"[object RegExp]"==a.call(c))throw new TypeError;var l=
d.length,f=String(c),e=f.length,n=1<arguments.length?arguments[1]:void 0;n=n?Number(n):0;n!=n&&(n=0);return!(e+Math.min(Math.max(n,0),l)>l)&&-1!=b.call(d,f,n)};c?c(String.prototype,"includes",{value:d,configurable:!0,writable:!0}):String.prototype.includes=d}();String.prototype.startsWith||!function(){var a=function(){try{var a={},c=Object.defineProperty,b=c(a,a,a)&&c}catch(t){}return b}(),c={}.toString,b=function(a){if(null==this)throw new TypeError;var b=String(this);if(a&&"[object RegExp]"==c.call(a))throw new TypeError;
var d=b.length,l=String(a),f=l.length,e=1<arguments.length?arguments[1]:void 0;e=e?Number(e):0;e!=e&&(e=0);e=Math.min(Math.max(e,0),d);if(f+e>d)return!1;for(d=-1;++d<f;)if(b.charCodeAt(e+d)!=l.charCodeAt(d))return!1;return!0};a?a(String.prototype,"startsWith",{value:b,configurable:!0,writable:!0}):String.prototype.startsWith=b}();Object.keys||(Object.keys=function(a,c,b){b=[];for(c in a)b.hasOwnProperty.call(a,c)&&b.push(c);return b});var d=!1,f=c.valHooks.select.set;c.valHooks.select.set=function(a,
b){return b&&!d&&c(a).data("selected",!0),f.apply(this,arguments)};var e=null;try{var g=(new Event("change"),!0)}catch(l){g=!1}c.fn.triggerNative=function(a){var c,b=this[0];b.dispatchEvent?(g?c=new Event(a,{bubbles:!0}):(c=document.createEvent("Event"),c.initEvent(a,!0,!1)),b.dispatchEvent(c)):b.fireEvent?(c=document.createEventObject(),c.eventType=a,b.fireEvent("on"+a,c)):this.trigger(a)};c.expr.pseudos.icontains=function(a,b,d){a=c(a).find("a");return(a.data("tokens")||a.text()).toString().toUpperCase().includes(d[3].toUpperCase())};
c.expr.pseudos.ibegins=function(a,b,d){a=c(a).find("a");return(a.data("tokens")||a.text()).toString().toUpperCase().startsWith(d[3].toUpperCase())};c.expr.pseudos.aicontains=function(a,b,d){a=c(a).find("a");return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().includes(d[3].toUpperCase())};c.expr.pseudos.aibegins=function(a,b,d){a=c(a).find("a");return(a.data("tokens")||a.data("normalizedText")||a.text()).toString().toUpperCase().startsWith(d[3].toUpperCase())};var k=
function(a){var c=function(c){return a[c]},b="(?:"+Object.keys(a).join("|")+")",d=RegExp(b),l=RegExp(b,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(l,c):a}},q=k({"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;"}),h=k({"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#x27;":"'","\x26#x60;":"`"}),m=function(a,b){d||(c.valHooks.select.set=f,d=!0);this.$element=c(a);this.$lis=this.$menu=this.$button=this.$newElement=
null;this.options=b;null===this.options.title&&(this.options.title=this.$element.attr("title"));a=this.options.windowPadding;"number"==typeof a&&(this.options.windowPadding=[a,a,a,a]);this.val=m.prototype.val;this.render=m.prototype.render;this.refresh=m.prototype.refresh;this.setStyle=m.prototype.setStyle;this.selectAll=m.prototype.selectAll;this.deselectAll=m.prototype.deselectAll;this.destroy=m.prototype.destroy;this.remove=m.prototype.remove;this.show=m.prototype.show;this.hide=m.prototype.hide;
this.init()};m.VERSION="1.12.4";m.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,c){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,c){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==c?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",
styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'\x3cspan class\x3d"caret"\x3e\x3c/span\x3e'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0};m.prototype=
{constructor:m,init:function(){var a=this,b=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement).appendTo(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");
this.$element.removeClass("bs-select-hidden");!0===this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right");"undefined"!=typeof b&&(this.$button.attr("data-id",b),c('label[for\x3d"'+b+'"]').click(function(c){c.preventDefault();a.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",
this);this.options.mobile&&this.mobile();this.$newElement.on({"hide.bs.dropdown":function(c){a.$menuInner.attr("aria-expanded",!1);a.$element.trigger("hide.bs.select",c)},"hidden.bs.dropdown":function(c){a.$element.trigger("hidden.bs.select",c)},"show.bs.dropdown":function(c){a.$menuInner.attr("aria-expanded",!0);a.$element.trigger("show.bs.select",c)},"shown.bs.dropdown":function(c){a.$element.trigger("shown.bs.select",c)}});a.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){a.$button.addClass("bs-invalid");
a.$element.on({"focus.bs.select":function(){a.$button.focus();a.$element.off("focus.bs.select")},"shown.bs.select":function(){a.$element.val(a.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&a.$button.removeClass("bs-invalid");a.$element.off("rendered.bs.select")}});a.$button.on("blur.bs.select",function(){a.$element.focus().blur();a.$button.off("blur.bs.select")})});setTimeout(function(){a.$element.trigger("loaded.bs.select")})},createDropdown:function(){var a=
this.multiple||this.options.showTick?" show-tick":"",b=this.$element.parent().hasClass("input-group")?" input-group-btn":"",d=this.autofocus?" autofocus":"",f=this.options.header?'\x3cdiv class\x3d"popover-title"\x3e\x3cbutton type\x3d"button" class\x3d"close" aria-hidden\x3d"true"\x3e\x26times;\x3c/button\x3e'+this.options.header+"\x3c/div\x3e":"",e=this.options.liveSearch?'\x3cdiv class\x3d"bs-searchbox"\x3e\x3cinput type\x3d"text" class\x3d"form-control" autocomplete\x3d"off"'+(null===this.options.liveSearchPlaceholder?
"":' placeholder\x3d"'+q(this.options.liveSearchPlaceholder)+'"')+' role\x3d"textbox" aria-label\x3d"Search"\x3e\x3c/div\x3e':"";return c('\x3cdiv class\x3d"btn-group bootstrap-select'+a+b+'"\x3e\x3cbutton type\x3d"button" class\x3d"'+this.options.styleBase+' dropdown-toggle" data-toggle\x3d"dropdown"'+d+' role\x3d"button"\x3e\x3cspan class\x3d"filter-option pull-left"\x3e\x3c/span\x3e\x26nbsp;\x3cspan class\x3d"bs-caret"\x3e'+this.options.template.caret+'\x3c/span\x3e\x3c/button\x3e\x3cdiv class\x3d"dropdown-menu open" role\x3d"combobox"\x3e'+
f+e+(this.multiple&&this.options.actionsBox?'\x3cdiv class\x3d"bs-actionsbox"\x3e\x3cdiv class\x3d"btn-group btn-group-sm btn-block"\x3e\x3cbutton type\x3d"button" class\x3d"actions-btn bs-select-all btn btn-default"\x3e'+this.options.selectAllText+'\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"actions-btn bs-deselect-all btn btn-default"\x3e'+this.options.deselectAllText+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e":"")+'\x3cul class\x3d"dropdown-menu inner" role\x3d"listbox" aria-expanded\x3d"false"\x3e\x3c/ul\x3e'+
(this.multiple&&this.options.doneButton?'\x3cdiv class\x3d"bs-donebutton"\x3e\x3cdiv class\x3d"btn-group btn-block"\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-sm btn-default"\x3e'+this.options.doneButtonText+"\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e":"")+"\x3c/div\x3e\x3c/div\x3e")},createView:function(){var a=this.createDropdown(),c=this.createLi();return a.find("ul")[0].innerHTML=c,a},reloadLi:function(){var a=this.createLi();this.$menuInner[0].innerHTML=a},createLi:function(){var b=this,d=
[],f=0,e=document.createElement("option"),g=-1,k=function(a,c,b,d){return"\x3cli"+("undefined"!=typeof b&&""!==b?' class\x3d"'+b+'"':"")+("undefined"!=typeof c&&null!==c?' data-original-index\x3d"'+c+'"':"")+("undefined"!=typeof d&&null!==d?'data-optgroup\x3d"'+d+'"':"")+"\x3e"+a+"\x3c/li\x3e"},h=function(d,f,e,l){return'\x3ca tabindex\x3d"0"'+("undefined"!=typeof f?' class\x3d"'+f+'"':"")+(e?' style\x3d"'+e+'"':"")+(b.options.liveSearchNormalize?' data-normalized-text\x3d"'+a(q(c(d).html()))+'"':
"")+("undefined"!=typeof l||null!==l?' data-tokens\x3d"'+l+'"':"")+' role\x3d"option"\x3e'+d+'\x3cspan class\x3d"'+b.options.iconBase+" "+b.options.tickIcon+' check-mark"\x3e\x3c/span\x3e\x3c/a\x3e'};if(this.options.title&&!this.multiple&&(g--,!this.$element.find(".bs-title-option").length)){var m=this.$element[0];e.className="bs-title-option";e.innerHTML=this.options.title;e.value="";m.insertBefore(e,m.firstChild);void 0===c(m.options[m.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")&&
(e.selected=!0)}var p=this.$element.find("option");return p.each(function(a){var e=c(this);if(g++,!e.hasClass("bs-title-option")){var l,n=this.className||"",u=q(this.style.cssText),B=e.data("content")?e.data("content"):e.html(),m=e.data("tokens")?e.data("tokens"):null,v="undefined"!=typeof e.data("subtext")?'\x3csmall class\x3d"text-muted"\x3e'+e.data("subtext")+"\x3c/small\x3e":"",D="undefined"!=typeof e.data("icon")?'\x3cspan class\x3d"'+b.options.iconBase+" "+e.data("icon")+'"\x3e\x3c/span\x3e ':
"",t=e.parent(),r="OPTGROUP"===t[0].tagName,I=r&&t[0].disabled,w=this.disabled||I;if(""!==D&&w&&(D="\x3cspan\x3e"+D+"\x3c/span\x3e"),b.options.hideDisabled&&(w&&!r||I))return l=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==l?l:a),void g--;if(e.data("content")||(B=D+'\x3cspan class\x3d"text"\x3e'+B+v+"\x3c/span\x3e"),r&&!0!==e.data("divider")){if(b.options.hideDisabled&&w&&(void 0===t.data("allOptionsDisabled")&&(l=t.children(),t.data("allOptionsDisabled",l.filter(":disabled").length===
l.length)),t.data("allOptionsDisabled")))return void g--;l=" "+t[0].className||"";0===e.index()&&(f+=1,e=t[0].label,v="undefined"!=typeof t.data("subtext")?'\x3csmall class\x3d"text-muted"\x3e'+t.data("subtext")+"\x3c/small\x3e":"",e=(t.data("icon")?'\x3cspan class\x3d"'+b.options.iconBase+" "+t.data("icon")+'"\x3e\x3c/span\x3e ':"")+'\x3cspan class\x3d"text"\x3e'+q(e)+v+"\x3c/span\x3e",0!==a&&0<d.length&&(g++,d.push(k("",null,"divider",f+"div"))),g++,d.push(k(e,null,"dropdown-header"+l,f)));if(b.options.hideDisabled&&
w)return void g--;d.push(k(h(B,"opt "+n+l,u,m),a,"",f))}else!0===e.data("divider")?d.push(k("",a,"divider")):!0===e.data("hidden")?(l=e.data("prevHiddenIndex"),e.next().data("prevHiddenIndex",void 0!==l?l:a),d.push(k(h(B,n,u,m),a,"hidden is-hidden"))):(t=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,!t&&b.options.hideDisabled&&(l=e.data("prevHiddenIndex"),void 0!==l)&&(w=p.eq(l)[0].previousElementSibling)&&"OPTGROUP"===w.tagName&&!w.disabled&&(t=!0),t&&(g++,d.push(k("",
null,"divider",f+"div"))),d.push(k(h(B,n,u,m),a)));b.liObj[a]=g}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),d.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(a){var b=this,d=this.$element.find("option");!1!==a&&d.each(function(a){var c=b.findLis().eq(b.liObj[a]);b.setDisabled(a,this.disabled||"OPTGROUP"===this.parentNode.tagName&&
this.parentNode.disabled,c);b.setSelected(a,this.selected,c)});this.togglePlaceholder();this.tabIndex();a=d.map(function(){if(this.selected&&(!b.options.hideDisabled||!(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))){var a,d=c(this),e=d.data("icon")&&b.options.showIcon?'\x3ci class\x3d"'+b.options.iconBase+" "+d.data("icon")+'"\x3e\x3c/i\x3e ':"";return a=b.options.showSubtext&&d.data("subtext")&&!b.multiple?' \x3csmall class\x3d"text-muted"\x3e'+d.data("subtext")+
"\x3c/small\x3e":"","undefined"!=typeof d.attr("title")?d.attr("title"):d.data("content")&&b.options.showContent?d.data("content").toString():e+d.html()+a}}).toArray();var e=this.multiple?a.join(this.options.multipleSeparator):a[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var f=this.options.selectedTextFormat.split("\x3e");if(1<f.length&&a.length>f[1]||1==f.length&&2<=a.length)e=this.options.hideDisabled?", [disabled]":"",d=d.not('[data-divider\x3d"true"], [data-hidden\x3d"true"]'+
e).length,e=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(a.length,d):this.options.countSelectedText).replace("{0}",a.length.toString()).replace("{1}",d.toString())}void 0==this.options.title&&(this.options.title=this.$element.attr("title"));"static"==this.options.selectedTextFormat&&(e=this.options.title);e||(e="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",h(c.trim(e.replace(/<[^>]*>?/g,""))));
this.$button.children(".filter-option").html(e);this.$element.trigger("rendered.bs.select")},setStyle:function(a,c){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));a=a?a:this.options.style;"add"==c?this.$button.addClass(a):"remove"==c?this.$button.removeClass(a):(this.$button.removeClass(this.options.style),this.$button.addClass(a))},liHeight:function(a){if(a||!1!==this.options.size&&!this.sizeInfo){a=
document.createElement("div");var b=document.createElement("div"),d=document.createElement("ul"),e=document.createElement("li"),f=document.createElement("li"),l=document.createElement("a"),g=document.createElement("span"),k=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,m=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):
null,q=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(g.className="text",a.className=this.$menu[0].parentNode.className+" open",b.className="dropdown-menu open",d.className="dropdown-menu inner",e.className="divider",g.appendChild(document.createTextNode("Inner text")),l.appendChild(g),f.appendChild(l),d.appendChild(f),d.appendChild(e),k&&b.appendChild(k),h)f=document.createElement("input"),h.className=
"bs-searchbox",f.className="form-control",h.appendChild(f),b.appendChild(h);m&&b.appendChild(m);b.appendChild(d);q&&b.appendChild(q);a.appendChild(b);document.body.appendChild(a);d=l.offsetHeight;k=k?k.offsetHeight:0;h=h?h.offsetHeight:0;m=m?m.offsetHeight:0;q=q?q.offsetHeight:0;e=c(e).outerHeight(!0);f=(l="function"==typeof getComputedStyle&&getComputedStyle(b))?null:c(b);b={vert:parseInt(l?l.paddingTop:f.css("paddingTop"))+parseInt(l?l.paddingBottom:f.css("paddingBottom"))+parseInt(l?l.borderTopWidth:
f.css("borderTopWidth"))+parseInt(l?l.borderBottomWidth:f.css("borderBottomWidth")),horiz:parseInt(l?l.paddingLeft:f.css("paddingLeft"))+parseInt(l?l.paddingRight:f.css("paddingRight"))+parseInt(l?l.borderLeftWidth:f.css("borderLeftWidth"))+parseInt(l?l.borderRightWidth:f.css("borderRightWidth"))};l={vert:b.vert+parseInt(l?l.marginTop:f.css("marginTop"))+parseInt(l?l.marginBottom:f.css("marginBottom"))+2,horiz:b.horiz+parseInt(l?l.marginLeft:f.css("marginLeft"))+parseInt(l?l.marginRight:f.css("marginRight"))+
2};document.body.removeChild(a);this.sizeInfo={liHeight:d,headerHeight:k,searchHeight:h,actionsHeight:m,doneButtonHeight:q,dividerHeight:e,menuPadding:b,menuExtras:l}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var a,b,d,e,f,g,k,h=this,m=this.$menu,q=this.$menuInner,p=c(window),r=this.$newElement[0].offsetHeight,J=this.$newElement[0].offsetWidth,K=this.sizeInfo.liHeight,F=this.sizeInfo.headerHeight,x=this.sizeInfo.searchHeight,
G=this.sizeInfo.actionsHeight,H=this.sizeInfo.doneButtonHeight,C=this.sizeInfo.dividerHeight,E=this.sizeInfo.menuPadding,z=this.sizeInfo.menuExtras,A=this.options.hideDisabled?".disabled":"",L=function(){var a,b=h.$newElement.offset(),d=c(h.options.container);h.options.container&&!d.is("body")?(a=d.offset(),a.top+=parseInt(d.css("borderTopWidth")),a.left+=parseInt(d.css("borderLeftWidth"))):a={top:0,left:0};d=h.options.windowPadding;e=b.top-a.top-p.scrollTop();f=p.height()-e-r-a.top-d[2];g=b.left-
a.left-p.scrollLeft();k=p.width()-g-J-a.left-d[1];e-=d[0];g-=d[3]};if(L(),"auto"===this.options.size)C=function(){var l=function(a,b){return function(d){return b?d.classList?d.classList.contains(a):c(d).hasClass(a):!(d.classList?d.classList.contains(a):c(d).hasClass(a))}};var n=h.$menuInner[0].getElementsByTagName("li");n=Array.prototype.filter?Array.prototype.filter.call(n,l("hidden",!1)):h.$lis.not(".hidden");l=Array.prototype.filter?Array.prototype.filter.call(n,l("dropdown-header",!0)):n.filter(".dropdown-header");
L();y=f-z.vert;a=k-z.horiz;h.options.container?(m.data("height")||m.data("height",m.height()),b=m.data("height"),m.data("width")||m.data("width",m.width()),d=m.data("width")):(b=m.height(),d=m.width());h.options.dropupAuto&&h.$newElement.toggleClass("dropup",e>f&&y-z.vert<b);h.$newElement.hasClass("dropup")&&(y=e-z.vert);"auto"===h.options.dropdownAlignRight&&m.toggleClass("dropdown-menu-right",g>k&&a-z.horiz<d-J);l=3<n.length+l.length?3*K+z.vert-2:0;m.css({"max-height":y+"px",overflow:"hidden","min-height":l+
F+x+G+H+"px"});q.css({"max-height":y-F-x-G-H-E.vert+"px","overflow-y":"auto","min-height":Math.max(l-E.vert,0)+"px"})},C(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",C),p.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",C);else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(A).length>this.options.size){A=this.$lis.not(".divider").not(A).children().slice(0,this.options.size).last().parent().index();A=
this.$lis.slice(0,A+1).filter(".divider").length;var y=K*this.options.size+A*C+E.vert;h.options.container?(m.data("height")||m.data("height",m.height()),b=m.data("height")):b=m.height();h.options.dropupAuto&&this.$newElement.toggleClass("dropup",e>f&&y-z.vert<b);m.css({"max-height":y+F+x+G+H+"px",overflow:"hidden","min-height":""});q.css({"max-height":y-E.vert+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var a=this.$menu.parent().clone().appendTo("body"),
b=this.options.container?this.$newElement.clone().appendTo("body"):a,c=a.children(".dropdown-menu").outerWidth(),d=b.css("width","auto").children("button").outerWidth();a.remove();b.remove();this.$newElement.css("width",Math.max(c,d)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",
""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=c('\x3cdiv class\x3d"bs-container" /\x3e');var a,b,d,e=this,f=c(this.options.container),g=function(c){e.$bsContainer.addClass(c.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",c.hasClass("dropup"));a=c.offset();f.is("body")?b={top:0,left:0}:(b=f.offset(),b.top+=parseInt(f.css("borderTopWidth"))-f.scrollTop(),b.left+=
parseInt(f.css("borderLeftWidth"))-f.scrollLeft());d=c.hasClass("dropup")?0:c[0].offsetHeight;e.$bsContainer.css({top:a.top-b.top+d,left:a.left-b.left,width:c[0].offsetWidth})};this.$button.on("click",function(){var a=c(this);e.isDisabled()||(g(e.$newElement),e.$bsContainer.appendTo(e.options.container).toggleClass("open",!a.hasClass("open")).append(e.$menu))});c(window).on("resize scroll",function(){g(e.$newElement)});this.$element.on("hide.bs.select",function(){e.$menu.data("height",e.$menu.height());
e.$bsContainer.detach()})},setSelected:function(a,b,c){c||(this.togglePlaceholder(),c=this.findLis().eq(this.liObj[a]));c.toggleClass("selected",b).find("a").attr("aria-selected",b)},setDisabled:function(a,b,c){c||(c=this.findLis().eq(this.liObj[a]));b?c.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1).attr("aria-disabled",!0):c.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0).attr("aria-disabled",!1)},isDisabled:function(){return this.$element[0].disabled},
checkDisabled:function(){var a=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled").attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"));this.$button.click(function(){return!a.isDisabled()})},togglePlaceholder:function(){var a=
this.$element.val();this.$button.toggleClass("bs-placeholder",null===a||""===a||a.constructor===Array&&0===a.length)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")));this.$element.attr("tabindex",-98)},clickListener:function(){var a=this,b=c(document);b.data("spaceSelect",
!1);this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&b.data("spaceSelect")&&(a.preventDefault(),b.data("spaceSelect",!1))});this.$button.on("click",function(){a.setSize()});this.$element.on("shown.bs.select",function(){if(a.options.liveSearch||a.multiple){if(!a.multiple){var b=a.liObj[a.$element[0].selectedIndex];"number"==typeof b&&!1!==a.options.size&&(b=a.$lis.eq(b)[0].offsetTop-a.$menuInner[0].offsetTop,b=b-a.$menuInner[0].offsetHeight/2+a.sizeInfo.liHeight/2,a.$menuInner[0].scrollTop=
b)}}else a.$menuInner.find(".selected a").focus()});this.$menuInner.on("click","li a",function(b){var d=c(this),f=d.parent().data("originalIndex"),l=a.$element.val(),g=a.$element.prop("selectedIndex"),k=!0;if(a.multiple&&1!==a.options.maxOptions&&b.stopPropagation(),b.preventDefault(),!a.isDisabled()&&!d.parent().hasClass("disabled")){var m=a.$element.find("option");b=m.eq(f);var h=b.prop("selected"),q=b.parent("optgroup"),n=a.options.maxOptions,p=q.data("maxOptions")||!1;if(a.multiple){if(b.prop("selected",
!h),a.setSelected(f,!h),d.blur(),!1!==n||!1!==p){var r=n<m.filter(":selected").length,u=p<q.find("option:selected").length;if(n&&r||p&&u)if(n&&1==n)m.prop("selected",!1),b.prop("selected",!0),a.$menuInner.find(".selected").removeClass("selected"),a.setSelected(f,!0);else if(p&&1==p)q.find("option:selected").prop("selected",!1),b.prop("selected",!0),n=d.parent().data("optgroup"),a.$menuInner.find('[data-optgroup\x3d"'+n+'"]').removeClass("selected"),a.setSelected(f,!0);else{d="string"==typeof a.options.maxOptionsText?
[a.options.maxOptionsText,a.options.maxOptionsText]:a.options.maxOptionsText;d="function"==typeof d?d(n,p):d;m=d[0].replace("{n}",n);q=d[1].replace("{n}",p);var x=c('\x3cdiv class\x3d"notify"\x3e\x3c/div\x3e');d[2]&&(m=m.replace("{var}",d[2][1<n?0:1]),q=q.replace("{var}",d[2][1<p?0:1]));b.prop("selected",!1);a.$menu.append(x);n&&r&&(x.append(c("\x3cdiv\x3e"+m+"\x3c/div\x3e")),k=!1,a.$element.trigger("maxReached.bs.select"));p&&u&&(x.append(c("\x3cdiv\x3e"+q+"\x3c/div\x3e")),k=!1,a.$element.trigger("maxReachedGrp.bs.select"));
setTimeout(function(){a.setSelected(f,!1)},10);x.delay(750).fadeOut(300,function(){c(this).remove()})}}}else m.prop("selected",!1),b.prop("selected",!0),a.$menuInner.find(".selected").removeClass("selected").find("a").attr("aria-selected",!1),a.setSelected(f,!0);!a.multiple||a.multiple&&1===a.options.maxOptions?a.$button.focus():a.options.liveSearch&&a.$searchbox.focus();k&&(l!=a.$element.val()&&a.multiple||g!=a.$element.prop("selectedIndex")&&!a.multiple)&&(e=[f,b.prop("selected"),h],a.$element.triggerNative("change"))}});
this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(b){b.currentTarget==this&&(b.preventDefault(),b.stopPropagation(),a.options.liveSearch&&!c(b.target).hasClass("close")?a.$searchbox.focus():a.$button.focus())});this.$menuInner.on("click",".divider, .dropdown-header",function(b){b.preventDefault();b.stopPropagation();a.options.liveSearch?a.$searchbox.focus():a.$button.focus()});this.$menu.on("click",".popover-title .close",function(){a.$button.click()});this.$searchbox.on("click",
function(a){a.stopPropagation()});this.$menu.on("click",".actions-btn",function(b){a.options.liveSearch?a.$searchbox.focus():a.$button.focus();b.preventDefault();b.stopPropagation();c(this).hasClass("bs-select-all")?a.selectAll():a.deselectAll()});this.$element.change(function(){a.render(!1);a.$element.trigger("changed.bs.select",e);e=null})},liveSearchListener:function(){var b=this,d=c('\x3cli class\x3d"no-results"\x3e\x3c/li\x3e');this.$button.on("click.dropdown.data-api",function(){b.$menuInner.find(".active").removeClass("active");
b.$searchbox.val()&&(b.$searchbox.val(""),b.$lis.not(".is-hidden").removeClass("hidden"),d.parent().length&&d.remove());b.multiple||b.$menuInner.find(".selected").addClass("active");setTimeout(function(){b.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(b.$lis.not(".is-hidden").removeClass("hidden"),b.$lis.filter(".active").removeClass("active"),
d.remove(),b.$searchbox.val()){var e,f=b.$lis.not(".is-hidden, .divider, .dropdown-header");if(e=b.options.liveSearchNormalize?f.not(":a"+b._searchStyle()+'("'+a(b.$searchbox.val())+'")'):f.not(":"+b._searchStyle()+'("'+b.$searchbox.val()+'")'),e.length===f.length)d.html(b.options.noneResultsText.replace("{0}",'"'+q(b.$searchbox.val())+'"')),b.$menuInner.append(d),b.$lis.addClass("hidden");else{e.addClass("hidden");var g,l=b.$lis.not(".hidden");l.each(function(a){var b=c(this);b.hasClass("divider")?
void 0===g?b.addClass("hidden"):(g&&g.addClass("hidden"),g=b):b.hasClass("dropdown-header")&&l.eq(a+1).data("optgroup")!==b.data("optgroup")?b.addClass("hidden"):g=null});g&&g.addClass("hidden");f.not(".hidden").first().addClass("active");b.$menuInner.scrollTop(0)}}})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(a){return"undefined"!=typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},changeAll:function(a){if(this.multiple){"undefined"==
typeof a&&(a=!0);this.findLis();var b=this.$element.find("option"),d=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden"),e=d.length,f=[];if(a){if(d.filter(".selected").length===d.length)return}else if(0===d.filter(".selected").length)return;d.toggleClass("selected",a);for(var g=0;g<e;g++){var l=d[g].getAttribute("data-original-index");f[f.length]=b.eq(l)[0]}c(f).prop("selected",a);this.render(!1);this.togglePlaceholder();this.$element.triggerNative("change")}},selectAll:function(){return this.changeAll(!0)},
deselectAll:function(){return this.changeAll(!1)},toggle:function(a){(a=a||window.event)&&a.stopPropagation();this.$button.trigger("click")},keydown:function(a){var b,d,f=c(this),e=(f.is("input")?f.parent().parent():f.parent()).data("this"),g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",
90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(d=e.$newElement.hasClass("open"),!d&&(48<=a.keyCode&&57>=a.keyCode||96<=a.keyCode&&105>=a.keyCode||65<=a.keyCode&&90>=a.keyCode))return e.options.container?e.$button.trigger("click"):(e.setSize(),e.$menu.parent().addClass("open"),d=!0),void e.$searchbox.focus();if(e.options.liveSearch&&/(^9$|27)/.test(a.keyCode.toString(10))&&d&&(a.preventDefault(),a.stopPropagation(),e.$menuInner.click(),e.$button.focus()),/(38|40)/.test(a.keyCode.toString(10))){if(b=
e.$lis.filter(":not(.disabled, .hidden, .dropdown-header, .divider)"),!b.length)return;var k=e.options.liveSearch?b.index(b.filter(".active")):b.index(b.find("a").filter(":focus").parent());var l=e.$menuInner.data("prevIndex");38==a.keyCode?(!e.options.liveSearch&&k!=l||-1==k||k--,0>k&&(k+=b.length)):40==a.keyCode&&((e.options.liveSearch||k==l)&&k++,k%=b.length);e.$menuInner.data("prevIndex",k);e.options.liveSearch?(a.preventDefault(),f.hasClass("dropdown-toggle")||(b.removeClass("active").eq(k).addClass("active").children("a").focus(),
f.focus())):b.eq(k).children("a").focus()}else if(!f.is("input")){var m=[];b=e.$lis.filter(":not(.disabled, .hidden, .dropdown-header, .divider)");b.each(function(b){c.trim(c(this).children("a").text().toLowerCase()).substring(0,1)==g[a.keyCode]&&m.push(b)});k=c(document).data("keycount");k++;c(document).data("keycount",k);c.trim(c(":focus").text().toLowerCase()).substring(0,1)!=g[a.keyCode]?(k=1,c(document).data("keycount",k)):k>=m.length&&(c(document).data("keycount",0),k>m.length&&(k=1));b.eq(m[k-
1]).children("a").focus()}(/(13|32)/.test(a.keyCode.toString(10))||/(^9$)/.test(a.keyCode.toString(10))&&e.options.selectOnTab)&&d&&((/(32)/.test(a.keyCode.toString(10))||a.preventDefault(),e.options.liveSearch)?/(32)/.test(a.keyCode.toString(10))||(e.$menuInner.find(".active a").click(),f.focus()):(b=c(":focus"),b.click(),b.focus(),a.preventDefault(),c(document).data("spaceSelect",!0)),c(document).data("keycount",0));(/(^9$|27)/.test(a.keyCode.toString(10))&&d&&(e.multiple||e.options.liveSearch)||
/(27)/.test(a.keyCode.toString(10))&&!d)&&(e.$menu.parent().removeClass("open"),e.options.container&&e.$newElement.removeClass("open"),e.$button.focus())},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(!0);this.setStyle();this.setWidth();this.$lis&&this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},
show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove();this.$bsContainer?this.$bsContainer.remove():this.$menu.remove();this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var r=c.fn.selectpicker;c.fn.selectpicker=b;c.fn.selectpicker.Constructor=m;c.fn.selectpicker.noConflict=function(){return c.fn.selectpicker=r,this};c(document).data("keycount",
0).on("keydown.bs.select",'.bootstrap-select [data-toggle\x3ddropdown], .bootstrap-select [role\x3d"listbox"], .bs-searchbox input',m.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle\x3ddropdown], .bootstrap-select [role\x3d"listbox"], .bs-searchbox input',function(a){a.stopPropagation()});c(window).on("load.bs.select.data-api",function(){c(".selectpicker").each(function(){var a=c(this);b.call(a,a.data())})})}(c)});
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof exports?c(require("jquery")):c(jQuery)})(function(c){var h=0,a=Array.prototype.slice;c.cleanData=function(a){return function(b){var d,e,g;for(g=0;null!=(e=b[g]);g++)try{(d=c._data(e,"events"))&&d.remove&&c(e).triggerHandler("remove")}catch(k){}a(b)}}(c.cleanData);c.widget=function(a,d,f){var b={},g=a.split(".")[0];a=a.split(".")[1];var k=g+"-"+a;f||(f=d,d=c.Widget);c.expr[":"][k.toLowerCase()]=function(a){return!!c.data(a,
k)};c[g]=c[g]||{};var h=c[g][a];var p=c[g][a]=function(a,b){if(!this._createWidget)return new p(a,b);arguments.length&&this._createWidget(a,b)};c.extend(p,h,{version:f.version,_proto:c.extend({},f),_childConstructors:[]});var m=new d;m.options=c.widget.extend({},m.options);c.each(f,function(a,e){c.isFunction(e)?b[a]=function(){var b=function(){return d.prototype[a].apply(this,arguments)},c=function(b){return d.prototype[a].apply(this,b)};return function(){var a=this._super,d=this._superApply;this._super=
b;this._superApply=c;var f=e.apply(this,arguments);this._super=a;this._superApply=d;return f}}():b[a]=e});p.prototype=c.widget.extend(m,{widgetEventPrefix:h?m.widgetEventPrefix||a:a},b,{constructor:p,namespace:g,widgetName:a,widgetFullName:k});h?(c.each(h._childConstructors,function(a,b){a=b.prototype;c.widget(a.namespace+"."+a.widgetName,p,b._proto)}),delete h._childConstructors):d._childConstructors.push(p);c.widget.bridge(a,p);return p};c.widget.extend=function(b){for(var d=a.call(arguments,1),
f=0,e=d.length,g,k;f<e;f++)for(g in d[f])k=d[f][g],d[f].hasOwnProperty(g)&&void 0!==k&&(c.isPlainObject(k)?b[g]=c.isPlainObject(b[g])?c.widget.extend({},b[g],k):c.widget.extend({},k):b[g]=k);return b};c.widget.bridge=function(b,d){var f=d.prototype.widgetFullName||b;c.fn[b]=function(e){var g="string"===typeof e,k=a.call(arguments,1),h=this;g?this.each(function(){var a=c.data(this,f);if("instance"===e)return h=a,!1;if(!a)return c.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+
e+"'");if(!c.isFunction(a[e])||"_"===e.charAt(0))return c.error("no such method '"+e+"' for "+b+" widget instance");var d=a[e].apply(a,k);if(d!==a&&void 0!==d)return h=d&&d.jquery?h.pushStack(d.get()):d,!1}):(k.length&&(e=c.widget.extend.apply(null,[e].concat(k))),this.each(function(){var a=c.data(this,f);a?(a.option(e||{}),a._init&&a._init()):c.data(this,f,new d(e,this))}));return h}};c.Widget=function(){};c.Widget._childConstructors=[];c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",
defaultElement:"\x3cdiv\x3e",options:{disabled:!1,create:null},_createWidget:function(a,d){d=c(d||this.defaultElement||this)[0];this.element=c(d);this.uuid=h++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=c();this.hoverable=c();this.focusable=c();d!==this&&(c.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=c(d.style?d.ownerDocument:d.document||d),this.window=c(this.document[0].defaultView||this.document[0].parentWindow));
this.options=c.widget.extend({},this.options,this._getCreateOptions(),a);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");
this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(a,d){var b=a,e;if(0===arguments.length)return c.widget.extend({},this.options);if("string"===typeof a){b={};var g=a.split(".");a=g.shift();if(g.length){var k=b[a]=c.widget.extend({},this.options[a]);for(e=0;e<g.length-1;e++)k[g[e]]=k[g[e]]||{},k=k[g[e]];a=g.pop();if(1===arguments.length)return void 0===
k[a]?null:k[a];k[a]=d}else{if(1===arguments.length)return void 0===this.options[a]?null:this.options[a];b[a]=d}}this._setOptions(b);return this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,d){this.options[a]=d;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!d),d&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")));return this},enable:function(){return this._setOptions({disabled:!1})},
disable:function(){return this._setOptions({disabled:!0})},_on:function(a,d,f){var b,g=this;"boolean"!==typeof a&&(f=d,d=a,a=!1);f?(d=b=c(d),this.bindings=this.bindings.add(d)):(f=d,d=this.element,b=this.widget());c.each(f,function(e,f){function k(){if(a||!0!==g.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"===typeof f?g[f]:f).apply(g,arguments)}"string"!==typeof f&&(k.guid=f.guid=f.guid||k.guid||c.guid++);var h=e.match(/^([\w:-]*)\s*(.*)$/);e=h[1]+g.eventNamespace;(h=h[2])?
b.delegate(h,e,k):d.bind(e,k)})},_off:function(a,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(d).undelegate(d);this.bindings=c(this.bindings.not(a).get());this.focusable=c(this.focusable.not(a).get());this.hoverable=c(this.hoverable.not(a).get())},_delay:function(a,d){var b=this;return setTimeout(function(){return("string"===typeof a?b[a]:a).apply(b,arguments)},d||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._on(a,{mouseenter:function(a){c(a.currentTarget).addClass("ui-state-hover")},
mouseleave:function(a){c(a.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._on(a,{focusin:function(a){c(a.currentTarget).addClass("ui-state-focus")},focusout:function(a){c(a.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,d,f){var b,g=this.options[a];f=f||{};d=c.Event(d);d.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d.target=this.element[0];if(a=d.originalEvent)for(b in a)b in d||
(d[b]=a[b]);this.element.trigger(d,f);return!(c.isFunction(g)&&!1===g.apply(this.element[0],[d].concat(f))||d.isDefaultPrevented())}};c.each({show:"fadeIn",hide:"fadeOut"},function(a,d){c.Widget.prototype["_"+a]=function(b,e,g){"string"===typeof e&&(e={effect:e});var f=e?!0===e||"number"===typeof e?d:e.effect||d:a;e=e||{};"number"===typeof e&&(e={duration:e});var h=!c.isEmptyObject(e);e.complete=g;e.delay&&b.delay(e.delay);if(h&&c.effects&&c.effects.effect[f])b[a](e);else if(f!==a&&b[f])b[f](e.duration,
e.easing,g);else b.queue(function(d){c(this)[a]();g&&g.call(b[0]);d()})}})});
!function(c){var h=function(a,b){var c=/[^\w\-.:]/.test(a)?new Function(h.arg+",tmpl","var _e\x3dtmpl.encode"+h.helper+",_s\x3d'"+a.replace(h.regexp,h.func)+"';return _s;"):h.cache[a]=h.cache[a]||h(h.load(a));return b?c(b,h):function(a){return c(a,h)}};h.cache={};h.load=function(a){return document.getElementById(a).innerHTML};h.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g;h.func=function(a,b,c,f,e,g){return b?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[b]||"\\"+
b:c?"\x3d"===c?"'+_e("+f+")+'":"'+("+f+"\x3d\x3dnull?'':"+f+")+'":e?"';":g?"_s+\x3d'":void 0};h.encReg=/[<>&"'\x00]/g;h.encMap={"\x3c":"\x26lt;","\x3e":"\x26gt;","\x26":"\x26amp;",'"':"\x26quot;","'":"\x26#39;"};h.encode=function(a){return(null==a?"":""+a).replace(h.encReg,function(a){return h.encMap[a]||""})};h.arg="o";h.helper=",print\x3dfunction(s,e){_s+\x3de?(s\x3d\x3dnull?'':s):_e(s);},include\x3dfunction(s,d){_s+\x3dtmpl(s,d);}";"function"==typeof define&&define.amd?define(function(){return h}):
"object"==typeof module&&module.exports?module.exports=h:c.tmpl=h}(this);
!function(c){var h=c.HTMLCanvasElement&&c.HTMLCanvasElement.prototype,a;if(a=c.Blob)try{a=!!new Blob}catch(k){a=!1}var b=a;if(a=b&&c.Uint8Array)try{a=100===(new Blob([new Uint8Array(100)])).size}catch(k){a=!1}var d=a,f=c.BlobBuilder||c.WebKitBlobBuilder||c.MozBlobBuilder||c.MSBlobBuilder,e=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,g=(b||f)&&c.atob&&c.ArrayBuffer&&c.Uint8Array&&function(a){var c,g,k;if(!(c=a.match(e)))throw Error("invalid data URI");var h=c[2]?c[1]:"text/plain"+(c[3]||";charset\x3dUS-ASCII");
var l=!!c[4];a=a.slice(c[0].length);l=l?atob(a):decodeURIComponent(a);a=new ArrayBuffer(l.length);c=new Uint8Array(a);for(g=0;g<l.length;g+=1)c[g]=l.charCodeAt(g);return b?new Blob([d?c:a],{type:h}):((k=new f).append(a),k.getBlob(h))};c.HTMLCanvasElement&&!h.toBlob&&(h.mozGetAsFile?h.toBlob=function(a,b,c){var d=this;setTimeout(function(){a(c&&h.toDataURL&&g?g(d.toDataURL(b,c)):d.mozGetAsFile("blob",b))})}:h.toDataURL&&g&&(h.toBlob=function(a,b,c){var d=this;setTimeout(function(){a(g(d.toDataURL(b,
c)))})}));"function"==typeof define&&define.amd?define(function(){return g}):"object"==typeof module&&module.exports?module.exports=g:c.dataURLtoBlob=g}(window);
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof exports?c(require("jquery")):c(window.jQuery)})(function(c){var h=0,a=c,b="parseJSON";"JSON"in window&&"parse"in JSON&&(a=JSON,b="parse");c.ajaxTransport("iframe",function(a){if(a.async){var b=a.initialIframeSrc||"javascript:false;",d,g,k;return{send:function(e,f){d=c('\x3cform style\x3d"display:none;"\x3e\x3c/form\x3e');d.attr("accept-charset",a.formAcceptCharset);k=/\?/.test(a.url)?"\x26":"?";"DELETE"===a.type?
(a.url=a.url+k+"_method\x3dDELETE",a.type="POST"):"PUT"===a.type?(a.url=a.url+k+"_method\x3dPUT",a.type="POST"):"PATCH"===a.type&&(a.url=a.url+k+"_method\x3dPATCH",a.type="POST");h+=1;g=c('\x3ciframe src\x3d"'+b+'" name\x3d"iframe-transport-'+h+'"\x3e\x3c/iframe\x3e').bind("load",function(){var e=c.isArray(a.paramName)?a.paramName:[a.paramName];g.unbind("load").bind("load",function(){try{var a=g.contents();if(!a.length||!a[0].firstChild)throw Error();}catch(n){a=void 0}f(200,"success",{iframe:a});
c('\x3ciframe src\x3d"'+b+'"\x3e\x3c/iframe\x3e').appendTo(d);window.setTimeout(function(){d.remove()},0)});d.prop("target",g.prop("name")).prop("action",a.url).prop("method",a.type);a.formData&&c.each(a.formData,function(a,b){c('\x3cinput type\x3d"hidden"/\x3e').prop("name",b.name).val(b.value).appendTo(d)});if(a.fileInput&&a.fileInput.length&&"POST"===a.type){var k=a.fileInput.clone();a.fileInput.after(function(a){return k[a]});a.paramName&&a.fileInput.each(function(b){c(this).prop("name",e[b]||
a.paramName)});d.append(a.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data");a.fileInput.removeAttr("form")}d.submit();k&&k.length&&a.fileInput.each(function(a,b){a=c(k[a]);c(b).prop("name",a.prop("name")).attr("form",a.attr("form"));a.replaceWith(b)})});d.append(g).appendTo(document.body)},abort:function(){g&&g.unbind("load").prop("src",b);d&&d.remove()}}}});c.ajaxSetup({converters:{"iframe text":function(a){return a&&c(a[0].body).text()},"iframe json":function(d){return d&&
a[b](c(d[0].body).text())},"iframe html":function(a){return a&&c(a[0].body).html()},"iframe xml":function(a){return(a=a&&a[0])&&c.isXMLDoc(a)?a:c.parseXML(a.XMLDocument&&a.XMLDocument.xml||c(a.body).html())},"iframe script":function(a){return a&&c.globalEval(c(a[0].body).text())}}})});
(function(c){"function"===typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],c):"object"===typeof exports?c(require("jquery"),require("./vendor/jquery.ui.widget")):c(window.jQuery)})(function(c){function h(a){var b="dragover"===a;return function(d){d.dataTransfer=d.originalEvent&&d.originalEvent.dataTransfer;var f=d.dataTransfer;f&&-1!==c.inArray("Files",f.types)&&!1!==this._trigger(a,c.Event(a,{delegatedEvent:d}))&&(d.preventDefault(),b&&(f.dropEffect="copy"))}}c.support.fileInput=
!(/(Android (1\.[0156]|2\.[01]))|(Windows Phone (OS 7|8\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1\.0|2\.[05]|3\.0))/.test(window.navigator.userAgent)||c('\x3cinput type\x3d"file"\x3e').prop("disabled"));c.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader);c.support.xhrFormDataFileUpload=!!window.FormData;c.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);c.widget("blueimp.fileupload",{options:{dropZone:c(document),
pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},
i18n:function(a,b){a=this.messages[a]||a.toString();b&&c.each(b,function(b,c){a=a.replace("{"+b+"}",c)});return a},formData:function(a){return a.serializeArray()},add:function(a,b){if(a.isDefaultPrevented())return!1;(b.autoUpload||!1!==b.autoUpload&&c(this).fileupload("option","autoUpload"))&&b.process().done(function(){b.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:c.support.blobSlice&&
function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(a,b,c){var d=a-this.timestamp;if(!this.bitrate||!c||d>c)this.bitrate=1E3/d*(b-this.loaded)*8,this.loaded=b,this.timestamp=a;return this.bitrate}},_isXHRUpload:function(a){return!a.forceIframeTransport&&(!a.multipart&&c.support.xhrFileUpload||c.support.xhrFormDataFileUpload)},_getFormData:function(a){if("function"===
c.type(a.formData))return a.formData(a.form);if(c.isArray(a.formData))return a.formData;if("object"===c.type(a.formData)){var b=[];c.each(a.formData,function(a,c){b.push({name:a,value:c})});return b}return[]},_getTotal:function(a){var b=0;c.each(a,function(a,c){b+=c.size||1});return b},_initProgressObject:function(a){var b={loaded:0,total:0,bitrate:0};a._progress?c.extend(a._progress,b):a._progress=b},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&
delete a._response[b];else a._response={}},_onProgress:function(a,b){if(a.lengthComputable){var d=Date.now?Date.now():(new Date).getTime();if(!(b._time&&b.progressInterval&&d-b._time<b.progressInterval&&a.loaded!==a.total)){b._time=d;var f=Math.floor(a.loaded/a.total*(b.chunkSize||b._progress.total))+(b.uploadedBytes||0);this._progress.loaded+=f-b._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,b.bitrateInterval);b._progress.loaded=b.loaded=f;b._progress.bitrate=
b.bitrate=b._bitrateTimer.getBitrate(d,f,b.bitrateInterval);this._trigger("progress",c.Event("progress",{delegatedEvent:a}),b);this._trigger("progressall",c.Event("progressall",{delegatedEvent:a}),this._progress)}}},_initProgressListener:function(a){var b=this,d=a.xhr?a.xhr():c.ajaxSettings.xhr();d.upload&&(c(d.upload).bind("progress",function(c){var d=c.originalEvent;c.lengthComputable=d.lengthComputable;c.loaded=d.loaded;c.total=d.total;b._onProgress(c,a)}),a.xhr=function(){return d})},_isInstanceOf:function(a,
b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(a){var b=this,d=a.files[0],f=a.multipart||!c.support.xhrFileUpload,e="array"===c.type(a.paramName)?a.paramName[0]:a.paramName;a.headers=c.extend({},a.headers);a.contentRange&&(a.headers["Content-Range"]=a.contentRange);f&&!a.blob&&this._isInstanceOf("File",d)||(a.headers["Content-Disposition"]='attachment; filename\x3d"'+encodeURI(d.name)+'"');if(!f)a.contentType=d.type||"application/octet-stream",a.data=a.blob||
d;else if(c.support.xhrFormDataFileUpload){if(a.postMessage){var g=this._getFormData(a);a.blob?g.push({name:e,value:a.blob}):c.each(a.files,function(b,d){g.push({name:"array"===c.type(a.paramName)&&a.paramName[b]||e,value:d})})}else b._isInstanceOf("FormData",a.formData)?g=a.formData:(g=new FormData,c.each(this._getFormData(a),function(a,b){g.append(b.name,b.value)})),a.blob?g.append(e,a.blob,d.name):c.each(a.files,function(d,f){(b._isInstanceOf("File",f)||b._isInstanceOf("Blob",f))&&g.append("array"===
c.type(a.paramName)&&a.paramName[d]||e,f,f.uploadName||f.name)});a.data=g}a.blob=null},_initIframeSettings:function(a){var b=c("\x3ca\x3e\x3c/a\x3e").prop("href",a.url).prop("host");a.dataType="iframe "+(a.dataType||"");a.formData=this._getFormData(a);a.redirect&&b&&b!==location.host&&a.formData.push({name:a.redirectParamName||"redirect",value:a.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&
(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(a){var b=c(a.fileInput),d=a.paramName;d?c.isArray(d)||(d=[d]):(d=[],b.each(function(){var a=c(this),b=a.prop("name")||"files[]";for(a=(a.prop("files")||[1]).length;a;)d.push(b),--a}),d.length||(d=[b.prop("name")||"files[]"]));return d},_initFormSettings:function(a){a.form&&a.form.length||(a.form=c(a.fileInput.prop("form")),a.form.length||(a.form=c(this.options.fileInput.prop("form"))));a.paramName=this._getParamName(a);
a.url||(a.url=a.form.prop("action")||location.href);a.type=(a.type||"string"===c.type(a.form.prop("method"))&&a.form.prop("method")||"").toUpperCase();"POST"!==a.type&&"PUT"!==a.type&&"PATCH"!==a.type&&(a.type="POST");a.formAcceptCharset||(a.formAcceptCharset=a.form.attr("accept-charset"))},_getAJAXSettings:function(a){a=c.extend({},this.options,a);this._initFormSettings(a);this._initDataSettings(a);return a},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?
"rejected":"pending"},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(a,b,d){var f=c.Deferred(),e=f.promise();b=b||this.options.context||e;!0===a?f.resolveWith(b,d):!1===a&&f.rejectWith(b,d);e.abort=f.promise;return this._enhancePromise(e)},_addConvenienceMethods:function(a,b){var d=this,f=function(a){return c.Deferred().resolveWith(d,a).promise()};b.process=function(a,g){if(a||g)b._processQueue=this._processQueue=(this._processQueue||
f([this])).then(function(){return b.errorThrown?c.Deferred().rejectWith(d,[b]).promise():f(arguments)}).then(a,g);return this._processQueue||f([this])};b.submit=function(){"pending"!==this.state()&&(b.jqXHR=this.jqXHR=!1!==d._trigger("submit",c.Event("submit",{delegatedEvent:a}),this)&&d._onSend(a,this));return this.jqXHR||d._getXHRPromise()};b.abort=function(){if(this.jqXHR)return this.jqXHR.abort();this.errorThrown="abort";d._trigger("fail",null,this);return d._getXHRPromise(!1)};b.state=function(){if(this.jqXHR)return d._getDeferredState(this.jqXHR);
if(this._processQueue)return d._getDeferredState(this._processQueue)};b.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===d._getDeferredState(this._processQueue)};b.progress=function(){return this._progress};b.response=function(){return this._response}},_getUploadedBytes:function(a){return(a=(a=(a=a.getResponseHeader("Range"))&&a.split("-"))&&1<a.length&&parseInt(a[1],10))&&a+1},_chunkedUpload:function(a,b){a.uploadedBytes=a.uploadedBytes||0;var d=this,f=a.files[0],e=f.size,
g=a.uploadedBytes,k=a.maxChunkSize||e,h=this._blobSlice,p=c.Deferred(),m=p.promise(),r;if(!(this._isXHRUpload(a)&&h&&(g||("function"===c.type(k)?k(a):k)<e))||a.data)return!1;if(b)return!0;if(g>=e)return f.error=a.i18n("uploadedBytes"),this._getXHRPromise(!1,a.context,[null,"error",f.error]);var l=function(){var b=c.extend({},a),m=b._progress.loaded;b.blob=h.call(f,g,g+("function"===c.type(k)?k(b):k),f.type);b.chunkSize=b.blob.size;b.contentRange="bytes "+g+"-"+(g+b.chunkSize-1)+"/"+e;d._initXHRData(b);
d._initProgressListener(b);r=(!1!==d._trigger("chunksend",null,b)&&c.ajax(b)||d._getXHRPromise(!1,b.context)).done(function(f,k,h){g=d._getUploadedBytes(h)||g+b.chunkSize;m+b.chunkSize-b._progress.loaded&&d._onProgress(c.Event("progress",{lengthComputable:!0,loaded:g-b.uploadedBytes,total:g-b.uploadedBytes}),b);a.uploadedBytes=b.uploadedBytes=g;b.result=f;b.textStatus=k;b.jqXHR=h;d._trigger("chunkdone",null,b);d._trigger("chunkalways",null,b);g<e?l():p.resolveWith(b.context,[f,k,h])}).fail(function(a,
c,e){b.jqXHR=a;b.textStatus=c;b.errorThrown=e;d._trigger("chunkfail",null,b);d._trigger("chunkalways",null,b);p.rejectWith(b.context,[a,c,e])})};this._enhancePromise(m);m.abort=function(){return r.abort()};l();return m},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0);this._initResponseObject(b);this._initProgressObject(b);b._progress.loaded=b.loaded=b.uploadedBytes||
0;b._progress.total=b.total=this._getTotal(b.files)||1;b._progress.bitrate=b.bitrate=0;this._active+=1;this._progress.loaded+=b.loaded;this._progress.total+=b.total},_onDone:function(a,b,d,f){var e=f._progress.total,g=f._response;f._progress.loaded<e&&this._onProgress(c.Event("progress",{lengthComputable:!0,loaded:e,total:e}),f);g.result=f.result=a;g.textStatus=f.textStatus=b;g.jqXHR=f.jqXHR=d;this._trigger("done",null,f)},_onFail:function(a,b,c,f){var d=f._response;f.recalculateProgress&&(this._progress.loaded-=
f._progress.loaded,this._progress.total-=f._progress.total);d.jqXHR=f.jqXHR=a;d.textStatus=f.textStatus=b;d.errorThrown=f.errorThrown=c;this._trigger("fail",null,f)},_onAlways:function(a,b,c,f){this._trigger("always",null,f)},_onSend:function(a,b){b.submit||this._addConvenienceMethods(a,b);var d=this,f,e,g=d._getAJAXSettings(b),k=function(){d._sending+=1;g._bitrateTimer=new d._BitrateTimer;return f=f||((e||!1===d._trigger("send",c.Event("send",{delegatedEvent:a}),g))&&d._getXHRPromise(!1,g.context,
e)||d._chunkedUpload(g)||c.ajax(g)).done(function(a,b,c){d._onDone(a,b,c,g)}).fail(function(a,b,c){d._onFail(a,b,c,g)}).always(function(a,b,c){d._onAlways(a,b,c,g);--d._sending;--d._active;if(g.limitConcurrentUploads&&g.limitConcurrentUploads>d._sending)for(a=d._slots.shift();a;){if("pending"===d._getDeferredState(a)){a.resolve();break}a=d._slots.shift()}0===d._active&&d._trigger("stop")})};this._beforeSend(a,g);if(this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=
this._sending){if(1<this.options.limitConcurrentUploads){var h=c.Deferred();this._slots.push(h);b=h.then(k)}else b=this._sequence=this._sequence.then(k,k);b.abort=function(){e=[void 0,"abort","abort"];return f?f.abort():(h&&h.rejectWith(g.context,e),k())};return this._enhancePromise(b)}return k()},_onAdd:function(a,b){var d=this,f=!0,e=c.extend({},this.options,b),g=b.files,h=g.length,q=e.limitMultiFileUploads,p=e.limitMultiFileUploadSize,m=e.limitMultiFileUploadSizeOverhead,r=0,l=this._getParamName(e),
n=0;if(!h)return!1;p&&void 0===g[0].size&&(p=void 0);if((e.singleFileUploads||q||p)&&this._isXHRUpload(e))if(e.singleFileUploads||p||!q)if(!e.singleFileUploads&&p){var u=[];var v=[];for(e=0;e<h;e+=1)if(r+=g[e].size+m,e+1===h||r+g[e+1].size+m>p||q&&e+1-n>=q)u.push(g.slice(n,e+1)),r=l.slice(n,e+1),r.length||(r=l),v.push(r),n=e+1,r=0}else v=l;else for(u=[],v=[],e=0;e<h;e+=q)u.push(g.slice(e,e+q)),r=l.slice(e,e+q),r.length||(r=l),v.push(r);else u=[g],v=[l];b.originalFiles=g;c.each(u||g,function(e,g){var h=
c.extend({},b);h.files=u?g:[g];h.paramName=v[e];d._initResponseObject(h);d._initProgressObject(h);d._addConvenienceMethods(a,h);return f=d._trigger("add",c.Event("add",{delegatedEvent:a}),h)});return f},_replaceFileInput:function(a){var b=a.fileInput,d=b.clone(!0),f=b.is(document.activeElement);a.fileInputClone=d;c("\x3cform\x3e\x3c/form\x3e").append(d)[0].reset();b.after(d).detach();f&&d.focus();c.cleanData(b.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(a,c){return c===
b[0]?d[0]:c});b[0]===this.element[0]&&(this.element=d)},_handleFileTreeEntry:function(a,b){var d=this,f=c.Deferred(),e=[],g=function(b){b&&!b.entry&&(b.entry=a);f.resolve([b])},h=function(c){d._handleFileTreeEntries(c,b+a.name+"/").done(function(a){f.resolve(a)}).fail(g)},q=function(){p.readEntries(function(a){a.length?(e=e.concat(a),q()):h(e)},g)};b=b||"";if(a.isFile)a._file?(a._file.relativePath=b,f.resolve(a._file)):a.file(function(a){a.relativePath=b;f.resolve(a)},g);else if(a.isDirectory){var p=
a.createReader();q()}else f.resolve([]);return f.promise()},_handleFileTreeEntries:function(a,b){var d=this;return c.when.apply(c,c.map(a,function(a){return d._handleFileTreeEntry(a,b)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(a){a=a||{};var b=a.items;return b&&b.length&&(b[0].webkitGetAsEntry||b[0].getAsEntry)?this._handleFileTreeEntries(c.map(b,function(a){var b;if(a.webkitGetAsEntry){if(b=a.webkitGetAsEntry())b._file=a.getAsFile();return b}return a.getAsEntry()})):
c.Deferred().resolve(c.makeArray(a.files)).promise()},_getSingleFileInputFiles:function(a){a=c(a);var b=a.prop("webkitEntries")||a.prop("entries");if(b&&b.length)return this._handleFileTreeEntries(b);b=c.makeArray(a.prop("files"));if(b.length)void 0===b[0].name&&b[0].fileName&&c.each(b,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{a=a.prop("value");if(!a)return c.Deferred().resolve([]).promise();b=[{name:a.replace(/^.*\\/,"")}]}return c.Deferred().resolve(b).promise()},_getFileInputFiles:function(a){return a instanceof
c&&1!==a.length?c.when.apply(c,c.map(a,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(a)},_onChange:function(a){var b=this,d={fileInput:c(a.target),form:c(a.target.form)};this._getFileInputFiles(d.fileInput).always(function(f){d.files=f;b.options.replaceFileInput&&b._replaceFileInput(d);!1!==b._trigger("change",c.Event("change",{delegatedEvent:a}),d)&&b._onAdd(a,d)})},_onPaste:function(a){var b=a.originalEvent&&a.originalEvent.clipboardData&&
a.originalEvent.clipboardData.items,d={files:[]};b&&b.length&&(c.each(b,function(a,b){(a=b.getAsFile&&b.getAsFile())&&d.files.push(a)}),!1!==this._trigger("paste",c.Event("paste",{delegatedEvent:a}),d)&&this._onAdd(a,d))},_onDrop:function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var b=this,d=a.dataTransfer,f={};d&&d.files&&d.files.length&&(a.preventDefault(),this._getDroppedFiles(d).always(function(d){f.files=d;!1!==b._trigger("drop",c.Event("drop",{delegatedEvent:a}),f)&&b._onAdd(a,
f)}))},_onDragOver:h("dragover"),_onDragEnter:h("dragenter"),_onDragLeave:h("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste}));c.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop");
this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(a,b){var d=-1!==c.inArray(a,this._specialOptions);d&&this._destroyEventHandlers();this._super(a,b);d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var a=this.options;void 0===a.fileInput?a.fileInput=this.element.is('input[type\x3d"file"]')?this.element:this.element.find('input[type\x3d"file"]'):a.fileInput instanceof
c||(a.fileInput=c(a.fileInput));a.dropZone instanceof c||(a.dropZone=c(a.dropZone));a.pasteZone instanceof c||(a.pasteZone=c(a.pasteZone))},_getRegExp:function(a){a=a.split("/");var b=a.pop();a.shift();return new RegExp(a.join("/"),b)},_isRegExpOption:function(a,b){return"url"!==a&&"string"===c.type(b)&&/^\/.*\/[igm]{0,3}$/.test(b)},_initDataAttributes:function(){var a=this,b=this.options,d=this.element.data();c.each(this.element[0].attributes,function(c,e){c=e.name.toLowerCase();/^data-/.test(c)&&
(c=c.slice(5).replace(/-[a-z]/g,function(a){return a.charAt(1).toUpperCase()}),e=d[c],a._isRegExpOption(c,e)&&(e=a._getRegExp(e)),b[c]=e)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(a){var b=this;a&&!this.options.disabled&&(a.fileInput&&
!a.files?this._getFileInputFiles(a.fileInput).always(function(c){a.files=c;b._onAdd(null,a)}):(a.files=c.makeArray(a.files),this._onAdd(null,a)))},send:function(a){if(a&&!this.options.disabled){if(a.fileInput&&!a.files){var b=this,d=c.Deferred(),f=d.promise(),e,g;f.abort=function(){g=!0;if(e)return e.abort();d.reject(null,"abort","abort");return f};this._getFileInputFiles(a.fileInput).always(function(c){g||(c.length?(a.files=c,e=b._onSend(null,a),e.then(function(a,b,c){d.resolve(a,b,c)},function(a,
b,c){d.reject(a,b,c)})):d.reject())});return this._enhancePromise(f)}a.files=c.makeArray(a.files);if(a.files.length)return this._onSend(null,a)}return this._getXHRPromise(!1,a&&a.context)}})});
(function(c){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload"],c):"object"===typeof exports?c(require("jquery"),require("./jquery.fileupload")):c(window.jQuery)})(function(c){var h=c.blueimp.fileupload.prototype.options.add;c.widget("blueimp.fileupload",c.blueimp.fileupload,{options:{processQueue:[],add:function(a,b){var d=c(this);b.process(function(){return d.fileupload("process",b)});h.call(this,a,b)}},processActions:{},_processFile:function(a,b){var d=this,f=c.Deferred().resolveWith(d,
[a]).promise();this._trigger("process",null,a);c.each(a.processQueue,function(a,g){a=function(a){return b.errorThrown?c.Deferred().rejectWith(d,[b]).promise():d.processActions[g.action].call(d,a,g)};f=f.then(a,g.always&&a)});f.done(function(){d._trigger("processdone",null,a);d._trigger("processalways",null,a)}).fail(function(){d._trigger("processfail",null,a);d._trigger("processalways",null,a)});return f},_transformProcessQueue:function(a){var b=[];c.each(a.processQueue,function(){var d={},f=this.action,
e=!0===this.prefix?f:this.prefix;c.each(this,function(b,f){"string"===c.type(f)&&"@"===f.charAt(0)?d[b]=a[f.slice(1)||(e?e+b.charAt(0).toUpperCase()+b.slice(1):b)]:d[b]=f});b.push(d)});a.processQueue=b},processing:function(){return this._processing},process:function(a){var b=this,d=c.extend({},this.options,a);d.processQueue&&d.processQueue.length&&(this._transformProcessQueue(d),0===this._processing&&this._trigger("processstart"),c.each(a.files,function(f){var e=f?c.extend({},d):d,g=function(){return a.errorThrown?
c.Deferred().rejectWith(b,[a]).promise():b._processFile(e,a)};e.index=f;b._processing+=1;b._processingQueue=b._processingQueue.then(g,g).always(function(){--b._processing;0===b._processing&&b._trigger("processstop")})}));return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=c.Deferred().resolveWith(this).promise()}})});
(function(c){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],c):"object"===typeof exports?c(require("jquery"),require("./jquery.fileupload-process")):c(window.jQuery)})(function(c){c.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});c.widget("blueimp.fileupload",c.blueimp.fileupload,{options:{getNumberOfFiles:c.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",
acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(h,a){if(a.disabled)return h;var b=c.Deferred(),d=this.options,f=h.files[h.index];if(a.minFileSize||a.maxFileSize)var e=f.size;"number"===c.type(a.maxNumberOfFiles)&&(d.getNumberOfFiles()||0)+h.files.length>a.maxNumberOfFiles?f.error=d.i18n("maxNumberOfFiles"):!a.acceptFileTypes||a.acceptFileTypes.test(f.type)||a.acceptFileTypes.test(f.name)?e>a.maxFileSize?f.error=
d.i18n("maxFileSize"):"number"===c.type(e)&&e<a.minFileSize?f.error=d.i18n("minFileSize"):delete f.error:f.error=d.i18n("acceptFileTypes");f.error||h.files.error?(h.files.error=!0,b.rejectWith(this,[h])):b.resolveWith(this,[h]);return b.promise()}}})});
(function(c){"function"===typeof define&&define.amd?define(["jquery","blueimp-tmpl","./jquery.fileupload-validate"],c):"object"===typeof exports?c(require("jquery"),require("blueimp-tmpl"),require("./jquery.fileupload-validate")):c(window.jQuery,window.tmpl)})(function(c,h){c.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId");c.widget("blueimp.fileupload",c.blueimp.fileupload,{options:{canUploadCheckTimeout:1E3,statusCheckTimeout:2E3,autoUpload:!1,
uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!0,dataType:"json",messages:{unknownError:"Unknown error"},steps:{ready:"ready",downloading:"downloading",received:"received",working:"working",converted:"converted",uploading:"uploading",uploaded:"uploaded",error:"error"},checkStatusUUIDS:{},UUIDSdata:{},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(a){return a.result&&
c.isArray(a.result.files)?a.result.files:[]},add:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this),f=d.data("blueimp-fileupload")||d.data("fileupload"),e=f.options;b.context=f._renderUpload(b.files).data("data",b).addClass("processing");e.filesContainer[e.prependFiles?"prepend":"append"](b.context);f._forceReflow(b.context);f._transition(b.context);b.process(function(){return d.fileupload("process",b)}).always(function(){b.context.each(function(a){c(this).find(".size").text(f._formatFileSize(b.files[a].size));
c(this).find(".status p").html(lang.ready)}).removeClass("processing");f._renderPreviews(b)}).done(function(){b.context.find(".start").prop("disabled",!1);!1!==f._trigger("added",a,b)&&(e.autoUpload||b.autoUpload)&&!1!==b.autoUpload&&b.submit()}).fail(function(){b.files.error&&b.context.each(function(a){(a=b.files[a].error)&&c(this).find(".error").text(a)})});d.find(".fileupload-buttonbar .start").prop("disabled",!1)},send:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||
c(this).data("fileupload");b.context&&b.dataType&&"iframe"===b.dataType.substr(0,6)&&b.context.find(".progress").addClass(!c.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%");b.headers.type=c("#toolType").val();b.headers.format=b.context.find(".dropdown button span:first-child").html();b.headers.filename=b.files[0].name;return d._trigger("sent",a,b)},done:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||
c(this).data("fileupload"),f=(b.getFilesFromResponse||d.options.getFilesFromResponse)(b),e,g;b.context?b.context.each(function(f){var h=b.result||{error:"Empty file upload result"};d._addToCheckStatusIfNeed(h)?(c(this).find("input[name\x3d'uuid']").val(h.uuid),d.options.UUIDSdata[h.uuid]=h,d._updateUploadItem(c(this),h)):(g=d._addFinishedDeferreds(),d._transition(c(this)).done(function(){var f=c(this);e=d._renderDownload([h]).replaceAll(f);e.find(".filename .size").text(d._formatFileSize(h.size));
e.find(".new_filename .size").text(d._formatFileSize(h.new_size));d._forceReflow(e);d._transition(e).done(function(){b.context=c(this);d._trigger("completed",a,b);d._trigger("finished",a,b);g.resolve()})}))}):f.forEach(function(f){d._isStatusForUpload(f.status)?(e=d._renderUpload([f])[d.options.prependFiles?"prependTo":"appendTo"](d.options.filesContainer),d._updateUploadItem(e,f)):e=d._renderDownload([f])[d.options.prependFiles?"prependTo":"appendTo"](d.options.filesContainer);d.options.UUIDSdata[f.uuid]=
f;d._forceReflow(e);g=d._addFinishedDeferreds();e.find(".filename .size").text(d._formatFileSize(f.size));e.find(".new_filename .size").text(d._formatFileSize(f.new_size));d._transition(e).done(function(){b.context=c(this);d._trigger("completed",a,b);d._trigger("finished",a,b);g.resolve()})}.bind(this))},fail:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),f;if(b.context)b.context.each(function(g){if("abort"!==b.errorThrown){var h=
b.files[g];h.error=h.error||b.errorThrown||b.i18n("unknownError");e=d._addFinishedDeferreds();d._transition(c(this)).done(function(){var g=c(this);f=d._renderDownload([h]).replaceAll(g);d._forceReflow(f);d._transition(f).done(function(){b.context=c(this);d._trigger("failed",a,b);d._trigger("finished",a,b);e.resolve()})})}else e=d._addFinishedDeferreds(),d._transition(c(this)).done(function(){c(this).remove();d._trigger("failed",a,b);d._trigger("finished",a,b);e.resolve()})});else if("abort"!==b.errorThrown){b.context=
d._renderUpload(b.files)[d.options.prependFiles?"prependTo":"appendTo"](d.options.filesContainer).data("data",b);d._forceReflow(b.context);var e=d._addFinishedDeferreds();d._transition(b.context).done(function(){b.context=c(this);d._trigger("failed",a,b);d._trigger("finished",a,b);e.resolve()})}else d._trigger("failed",a,b),d._trigger("finished",a,b),d._addFinishedDeferreds().resolve()},progress:function(a,b){if(a.isDefaultPrevented())return!1;var d=Math.floor(b.loaded/b.total*100);b.context&&b.context.each(function(){c(this).find(".progress").attr("aria-valuenow",
d).children().first().css("width",d+"%")})},progressall:function(a,b){if(a.isDefaultPrevented())return!1;a=c(this);var d=Math.floor(b.loaded/b.total*100),f=a.find(".fileupload-progress"),e=f.find(".progress-extended");e.length&&e.html((a.data("blueimp-fileupload")||a.data("fileupload"))._renderExtendedProgress(b));f.find(".progress").attr("aria-valuenow",d).children().first().css("width",d+"%")},start:function(a){if(a.isDefaultPrevented())return!1;var b=c(this).data("blueimp-fileupload")||c(this).data("fileupload");
b._resetFinishedDeferreds();b._transition(c(this).find(".fileupload-progress")).done(function(){b._trigger("started",a)})},stop:function(a){if(a.isDefaultPrevented())return!1;var b=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),d=b._addFinishedDeferreds();c.when.apply(c,b._getFinishedDeferreds()).done(function(){b._trigger("stopped",a)});b._transition(c(this).find(".fileupload-progress")).done(function(){c(this).find(".progress").attr("aria-valuenow","0").children().first().css("width",
"0%");c(this).find(".progress-extended").html("\x26nbsp;");d.resolve()})},processstart:function(a){if(a.isDefaultPrevented())return!1;c(this).addClass("fileupload-processing")},processstop:function(a){if(a.isDefaultPrevented())return!1;c(this).removeClass("fileupload-processing")},destroy:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),f=function(){d._transition(b.context).done(function(){c(this).remove();d._trigger("destroyed",
a,b)})};b.url?(b.dataType=b.dataType||d.options.dataType,c.ajax(b).done(f).fail(function(){d._trigger("destroyfailed",a,b)})):f()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(a){a||(a=c.Deferred());this._finishedUploads.push(a);return a},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var a=c(this),b=a.prop("href"),d=a.prop("download");a.bind("dragstart",function(a){try{a.originalEvent.dataTransfer.setData("DownloadURL",
["application/octet-stream",d,b].join(":"))}catch(e){}})},_formatFileSize:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" GB":1E6<=a?(a/1E6).toFixed(2)+" MB":1E3<=a?(a/1E3).toFixed(2)+" KB":a.toFixed(2)+" B"},_formatBitrate:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" Gbit/s":1E6<=a?(a/1E6).toFixed(2)+" Mbit/s":1E3<=a?(a/1E3).toFixed(2)+" kbit/s":a.toFixed(2)+" bit/s"},_formatTime:function(a){var b=new Date(1E3*a);a=Math.floor(a/86400);return(a?a+"d ":
"")+("0"+b.getUTCHours()).slice(-2)+":"+("0"+b.getUTCMinutes()).slice(-2)+":"+("0"+b.getUTCSeconds()).slice(-2)},_formatPercentage:function(a){return(100*a).toFixed(2)+" %"},_renderExtendedProgress:function(a){return this._formatBitrate(a.bitrate)+" | "+this._formatTime(8*(a.total-a.loaded)/a.bitrate)+" | "+this._formatPercentage(a.loaded/a.total)+" | "+this._formatFileSize(a.loaded)+" / "+this._formatFileSize(a.total)},_renderTemplate:function(a,b){if(!a)return c();a=a({files:b,formatFileSize:this._formatFileSize,
options:this.options});return a instanceof c?a:c(this.options.templatesContainer).html(a).children()},_renderPreviews:function(a){a.context.find(".preview").each(function(b,d){c(d).append(a.files[b].preview)})},_renderUpload:function(a){a=this._filesVarsUpdate(a);return this._renderTemplate(this.options.uploadTemplate,a)},_filesVarsUpdate:function(a){for(var b=0;b<a.length;b++){var c=a[b],f=c.name.split("."),e=f.pop();0==f.length&&(e="");c.ext=e;c.new_name=f.join("")+"."+c.format;c.status||(c.status=
this.options.steps.ready);this._addToCheckStatusIfNeed(c)}return a},_addToCheckStatusIfNeed:function(a){return a&&a.uuid&&a.status&&this._isStatusForUpload(a.status)?(this.options.checkStatusUUIDS[a.uuid]=a.status,!0):!1},_renderDownload:function(a){a=this._filesVarsUpdate(a);return this._renderTemplate(this.options.downloadTemplate,a).find("a[download]").each(this._enableDragToDesktop).end()},_startAllCheckEnabled:function(){var a=this.options.filesContainer,b=this.element.find(".fileupload-buttonbar .start"),
d=!1;a.find(".template-upload .start").each(function(){0==c(this).prop("disabled")&&(d=!0)}).promise().done(function(){d?b.prop("disabled",!1):b.prop("disabled",!0)})},_startHandler:function(a){a.preventDefault();a=c(a.currentTarget);var b=a.closest(".template-upload"),d=b.data("data");a.prop("disabled",!0);b.find(".dropdown button").prop("disabled",!0);b.find(".status p").html(lang.queue);var f=this.options.canUploadCheckTimeout,e=this._canUpload,g=function(){b.find(".status p").html(lang.downloading);
d&&d.submit&&d.submit()},h=function(){setTimeout(function(){e(g,h)},f)};e(g,h);this._startAllCheckEnabled()},_startDownloadHandler:function(a){a.preventDefault();a=c(a.currentTarget).closest(".template-download").find("a");window.location.href=a.attr("href")},_startHandlerNoMouseForOneItem:function(a){var b=a.closest(".template-upload"),c=b.data("data");a.hasClass("started")||(a.prop("disabled",!0),b.find(".dropdown button").prop("disabled",!0),b.find(".status p").html(lang.downloading),c&&c.submit&&
(c.submit(),a.addClass("started")))},_cancelHandler:function(a){a.preventDefault();var b=c(a.currentTarget).closest(".template-upload,.template-download"),d=b.data("data")||{};d.context=d.context||b;d.abort?d.abort():(d.errorThrown="abort",this._trigger("fail",a,d));this._startAllCheckEnabled()},_deleteHandler:function(a){a.preventDefault();var b=c(a.currentTarget);b.closest(".template-download").find("button").prop("disabled",!0);this._trigger("destroy",a,c.extend({context:b.closest(".template-download"),
type:"DELETE"},b.data()));this._startAllCheckEnabled()},_forceReflow:function(a){return c.support.transition&&a.length&&a[0].offsetWidth},_transition:function(a){var b=c.Deferred();a.removeClass("in");a.removeClass("fade");b.resolveWith(a);return b},_initButtonBarEventHandlers:function(){var a=this.element.find(".fileupload-buttonbar"),b=this.options.filesContainer,d=this._startHandlerNoMouseForOneItem,f=a.find(".start"),e=this.options.canUploadCheckTimeout,g=this._canUpload;this._on(f,{click:function(a){a.preventDefault();
if(0<b.find(".template-upload .start").length){b.find(".template-upload .start").prop("disabled",!0).addClass("fromAll");b.find(".template-upload .dropdown button").each(function(){var a=c(this);a.prop("disabled")||(a.prop("disabled",!0),a.closest(".template-upload").find(".status p").html(lang.queue))});f.prop("disabled",!0);var h=function(a){var e=0,f=!1;b.find(".template-upload .start.fromAll").each(function(){var b=c(this);b.hasClass("started")||e++;e<=a?d(b):f||(f=!0,k())})},k=function(){setTimeout(function(){g(h,
k)},e)};g(h,k)}}});this._on(a.find(".cancel"),{click:function(a){a.preventDefault();b.find(".cancel").click()}});this._on(a.find(".delete"),{click:function(c){c.preventDefault();b.find(".toggle:checked").closest(".template-download").find(".delete").click();a.find(".toggle").prop("checked",!1)}});this._on(a.find(".toggle"),{change:function(a){b.find(".toggle").prop("checked",c(a.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),
"click");this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .startDownload":this._startDownloadHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler});this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,"click");this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",
!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var a=this.options;a.templatesContainer=this.document[0].createElement(a.filesContainer.prop("nodeName"));h&&(a.uploadTemplateId&&(a.uploadTemplate=h(a.uploadTemplateId)),a.downloadTemplateId&&(a.downloadTemplate=h(a.downloadTemplateId)))},_initFilesContainer:function(){var a=this.options;void 0===a.filesContainer?
a.filesContainer=this.element.find(".files"):a.filesContainer instanceof c||(a.filesContainer=c(a.filesContainer))},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates()},_create:function(){this._super();this._resetFinishedDeferreds();c.support.fileInput||this._disableFileInputButton();setInterval(this._statusCheck.bind(this),this.options.statusCheckTimeout)},_isStatusForUpload:function(a){switch(a){case this.options.steps.ready:case this.options.steps.received:case this.options.steps.working:case this.options.steps.converted:case this.options.steps.uploading:return!0}return!1},
_statusCheck:function(){var a=[],b;for(b in this.options.checkStatusUUIDS)a.push(b);0!=a.length&&c.ajax({url:"/status",type:"POST",data:{ids:a},cache:!1}).done(this._statusCheckDone.bind(this))},_statusCheckDone:function(a){a&&a.forEach(function(a){if(this._isStatusForUpload(a.status))this._updateUploadItem(c("input[value\x3d'"+a.uuid+"']").closest("tr"),a);else{for(var b in a)this.options.UUIDSdata[a.uuid][b]=a[b];b={context:c("input[value\x3d'"+a.uuid+"']").closest("tr.template-upload"),result:this.options.UUIDSdata[a.uuid]};
this._trigger("done",null,b);delete this.options.UUIDSdata[a.uuid];delete this.options.checkStatusUUIDS[a.uuid]}}.bind(this))},_updateUploadItem:function(a,b){b=lang[b.status];a.find(".status p").text(b);a.find("button").prop("disabled",!0);a.find(".progress").addClass(!c.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%")},_canUpload:function(a,b){c.ajax({url:"/canupload",cache:!1}).done(function(c){c.ready?null!=a&&a(c.files):null!=b&&b()})},
enable:function(){var a=!1;this.options.disabled&&(a=!0);this._super();a&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton());this._super()}})});var lang={ready:"Ready for upload",queue:"Waiting in queue",downloading:"Uploading",uploading:"Moving",received:"Received",working:"\u0421onverting",converted:"Converted",error:"Error"};
$(function(){$("#fileupload").fileupload({url:"upload"});$("#fileupload").fileupload("option","redirect",window.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"));$("#fileupload").addClass("fileupload-processing");$.ajax({url:$("#fileupload").fileupload("option","url")+"/"+$("#toolType").val(),dataType:"json",cache:!1,context:$("#fileupload")[0]}).always(function(){$(this).removeClass("fileupload-processing");$(".drop_holder").removeClass("loading");setTimeout(checkDragPanel,100)}).done(function(c){$(this).fileupload("option",
"done").call(this,$.Event("done"),{result:c})});$("#fileupload").bind("fileuploadadded",function(c,h){$(".selectpicker").selectpicker();$(".selectpicker").selectpicker("render");checkDragPanel()});$("#fileupload").bind("fileuploaddestroy fileuploadfail fileuploaddone fileuploadalways fileuploadstop fileuploadchange fileuploadfinished",function(c,h){setTimeout(checkDragPanel,100)});initDragPanel()});
function initDragPanel(){function c(a){h=window.setTimeout(function(){$("body").removeClass("hover");return!1},25)}var h;$(document).on("dragover",function(a){a=a.originalEvent.dataTransfer;a.types&&(a.types.indexOf?-1!=a.types.indexOf("Files"):a.types.contains("Files"))&&($("body").addClass("hover"),window.clearTimeout(h))});$(document).on("dragleave",c);$(document).on("dragend",c);$(document).on("drop",c);$(".drag-indicator").on("click",c);$(".drag-indicator").mouseup(c)}
function checkDragPanel(){0<$("#fileupload tr").length?$(".drop_here").hide():$(".drop_here").show()}function setFormat(c,h){$(h).closest(".dropdown").find("button span:first-child").text(c);return!1};